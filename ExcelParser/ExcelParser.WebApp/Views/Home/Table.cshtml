@model TableRowViewModel
@{
    Layout = "_TableLayout";
    List<List<ExcelParser.Parser.Models.TableRow>> groupedRows = Model.TableRows
        .GroupBy(row => row.BankName)
        .Select(group => group.ToList())
        .ToList();
}
<body>
<a href="@Url.Action("Home","Home",new {filePath=Model.FilePath})"><button  type="button"style="border-radius: 12px" class="btn btn-primary">Главная</button></a>
<a href="@Url.Action("UpdateTable","Home",new {filePath=Model.FilePath,tableName=ViewData["Title"]})"><button  type="button"style="border-radius: 12px" class="btn btn-primary">Редактировать</button></a>
<div class="row px-xl-5">
    <div class="col-lg-12 table-responsive mb-5">
        @foreach (var tableRows in groupedRows)
        {
            <h3>Id : @tableRows[0].Id</h3>
            <h3>Банк : @tableRows[0].BankName</h3>
            <table id="cartTable" class="table table-bordered text-center mb-0">
                <thead class="bg-secondary text-dark">
                <tr>
                    <th>Кредитный продукт</th>
                    <th>Срок min</th>
                    <th>Срок max</th>
                    <th>Период</th>
                    <th>Ставка min</th>
                    <th>Ставка max</th>
                    <th>Примечание</th>
                </tr>
                </thead>
                <tbody class="align-middle">
                @foreach (var tableRow in tableRows)
                {
                    <tr>
                        <td>@(tableRow.CreditProduct != null ? tableRow.CreditProduct : "")</td>
                        <td>@(tableRow.TermMin != null ? tableRow.TermMin.ToString() : "")</td>
                        <td>@(tableRow.TermMax != null ? tableRow.TermMax.ToString() : "")</td>
                        <td>@(tableRow.Period != null ? tableRow.Period : "")</td>
                        <td>@(tableRow.RateMin != null ? tableRow.RateMin.ValueString : "")</td>
                        <td>@(tableRow.RateMax != null ? tableRow.RateMax.ValueString : "")</td>
                        <td>@(tableRow.Note != null ? tableRow.Note : "")</td>
                    </tr>
                }

                </tbody>
            </table>
        }
    </div>
</div>

</body>